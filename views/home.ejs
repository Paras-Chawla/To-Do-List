<%- include('partials/header.ejs') %>
<body class="homebg">      
    <div class="container"><h1> ToDo List</h1><hr>
        <form class="form-inline" action="/submit2" method="post">
            <div class="form-group mx-sm-3 mb-2">
            <input type="text" class="form-control" id="todotask" placeholder="Task" name="task2" required>
          </div>
          <button type="submit" class="btn btn-primary mb-2">+</button>
      </form>
      <% if(locals.homelist){ %>
            <% for (var i=0;i<homelist.length;i++) {%>
                  <div class="form-check check">
                        <input class="form-check-input" type="checkbox" value="" id="checktask <%`${i}`%>">
                        <label class="form-check-label todo-item" for="checktask<%`${i}`%>">
                  <%=homelist[i]; %>
                  </label>
            </div> 
                  <% } %>
      <%}%>      
      <hr>
      <a href="/deletehome"> <button type="button" class="btn btn-outline-danger dustbin">Delete List</button>    </a>

      </div> 

   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      $(document).ready(function() {
        var checkboxes = document.querySelectorAll(".form-check-input");
        checkboxes.forEach(function(checkbox) {
          checkbox.addEventListener('change', function() {
            if (this.checked) {
              this.nextElementSibling.classList.add("strikethrough");
              console.log("checked");
            } else {
              this.nextElementSibling.classList.remove("strikethrough");
              console.log("unchecked");
            }
          });
        });
      });
    </script>
</body>